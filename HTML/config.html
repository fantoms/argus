<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Argus - System and Network Monitoring Software</TITLE>
<!--#include file="top.shtml" -->

<H1>Configuring</H1>

<P>You have the choice of creating a single config file,
or a directory of separate config files, which are effectively
concatenated together.</P>

<P>The latter is useful so that different parts can be
generated by different people or different scripts.</P>

<P>For example, the author has one file for each of:
unix servers, NT servers, routers, terminal servers,
BGP sessions, T1 connections, DSL connections, etc.
Certain files are built by scripts from various databases,
and others are maintained by people.</P>

<P>The application will automatically notice if a config file
changes and will reload.</P>

<P>By default, argus will look in the configured <TT>data</TT>
directory for a file or subdirectory named <TT>config</TT>.
This can be overridden with the <TT>-c</TT> command line option.</P>


<H2>Config File Structure</H2>

<P>The config file defines what and how things are monitored as well as
the layout and relationships of the various items.</P>
<P>It contains various types of things</P><OL>
<LI>	key-value pairs, aka. data<BR>
	<TT>frequency: 300</TT>
<LI>	specifications of things to monitor, aka. Services<BR>
	<TT>Service TCP/SMTP</TT>
<LI>	groups of services, aka. Groups<BR><PRE>
	Group "Foo" {
		hostname: foo.example.com
		Service TCP/SMTP
		Service TCP/HTTP
	}</PRE>
<LI>	alternate names for things, aka. Aliases<BR>
	<TT>Alias "Foo" "Top:Servers:Foo"</TT><BR>
	<I>Aliases are described further in the advanced documentation</I>
<LI>	definitions of notification methods<br>
	<I>notification methods are described in <a href="notif.html">notification documentation</a></I>
<LI>	definitions of special features, such as <a href="darp.html">DARP</a>,
	the asynchronous <a href="advanced.html">resolver</a>
</OL>
<p>In the config file, the parameter-value data must come first,
followed by notification methods and special features,
followed by groups and services.</p>


<P>There are an extremely large number of parameters (data) that can be
(or need to be) defined. In general, everything tries to default to reasonable
and "Do What I Mean" values.</P>
<P>There is an auto-generated list of all of the parameters, etc,
<A HREF="config-details.html">here</A></P>

<P>Probably good to show an example:</P><PRE>
     syslog: local1
     notify: mail:staff@example.com
     
     Group "Servers" {
             Group "mail" {
                     <FONT COLOR=blue># Here, we specify data (hostname) for the group
                     # Note: hostname data is not used by Groups
                     # but the enclosed Services will inherit
                     # the value and use it</FONT>
                     hostname: mail.example.com
                     Service TCP/SMTP
                     Service TCP/IMAP
                     Service UDP/DNS
                     Service Ping
                     <FONT COLOR=blue># Notice, Services can either be standalone, or have
                     # data attached
                     # in the next case, we give the Ping a different
                     # address to check</FONT>
                     Service Ping {
                             hostname: 10.4.3.2
                     }
             }
             Group "www" {
                     <FONT COLOR=blue># Note, unlike C or Perl, you cannot
                     # place the opening { on a different line</FONT>
                     hostname: www.example.com
                     Service TCP/HTTP
                     Service TCP/HTTPS
                     Service Ping
                     Service TCP {
                             port: 12345
                             info: YoyoDyne Application Server
                     }
                     <FONT COLOR=blue># Also, the closing } must be on
                     # a line by itself (with optional whitespace)</FONT>
             }
     }
</PRE>

<P>Since it is quite common to create a group representing a single
host, and enclosing a number of services to test on that host, a shorthand
notation is provided for this:</P><PRE>
	Host "www.example.com" {
		Service TCP/HTTP
		Service TCP/HTTPS
		Service Ping
		Service TCP {
			port: 12345
			info: YoyoDyne Application Server
		}
	}
</PRE><P>
This does the same thing as the "www" group in the other example.</P>
<P>Hmmm, OK, perhaps it isn't much shorter. How about "A more self-documenting-hand",
instead?</P>

<P>Other sections of the documentation will explain some of the more common
parameters and show additional examples.</P>

<H2>Config File - Other Notes</H2>
<H3>Case Sensitivity</H3>
<P>In general, the everything is case-sensitive. Often, argus can figure
out what you mean if you mis-case something, but not always, so you
should you use the same casing as shown.</P>

<H3>Include Files</H3>
<P>You can include another file in a config file by saying:</P>
<PRE>
	Include "file"
</PRE>
<P>Include files may in turn include other files to any level of nesting
(well, up to what ever resource limits your Operating System may have)
</P>
<DIV CLASS=TECHNOTE>
Include support was added in version 3.2
</DIV>

<H3>Time Units</H3>
<p>Many parameters specify amounts of time. Times can be specified using
units of <tt>secs</tt>, <tt>mins</tt>, <tt>hours</tt>, <tt>days</tt>,
<tt>weeks</tt>, and <tt>years</tt>, all may be abbreviated to one letter.
For example: <font color=blue>36y</font>, or <font color=blue>12min</font>.</p>
<div class=TECHNOTE>
Time unit support was added in version 3.5
</div>




<!--#include file="bottom.shtml" -->
<!-- $Id: config.html,v 1.12 2007/01/17 05:48:54 jaw Exp $ -->
</HTML>
